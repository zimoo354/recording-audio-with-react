(window.webpackJsonpatexto=window.webpackJsonpatexto||[]).push([[0],[,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABqklEQVRIiaWVPW5TURCFv3nyAlJYUSrkwgWy6BAbQMGmoEQUKbIKRMMSKLIMWoToItgAokNRJEApTSKKpHJhaT6KPCeO9X6uk9PcI73xOXPPG88LOqDuAfvqLCIm6jAiAC6An8Ax8C0i/nbpbIqi7qpH6tx+zDPzgzpUiwz21T+ZeaOwzjvwS33eJ36YmYvMvBHdhmfmQj1si2WqLkpa7cFCnWbm3ZeZmWclUZTcRj3zekCoao/3wGjjRo18/Wzj6qjWJNRHwA9g2DsBW0D9FxFPK2DaJN7XZR+PiCHwcgDM1gsioiSCUpPZAHiyEl6hhBdiUgG7TU8eGlF97lXUk9Q0LQ/lEVENuF5cO9tGVBjjRQWcNrm3YctbnFTA8Xo8q4KuP1oJr8+voY6B78BOb/tbQL2MiGcV8Bv4tNlJxw9L+edaGzJzlJnz+6zolmU3r/fRraP6Wl1279IiLNU3d9b1yiQz3/aZtH3par5U39kWdW1ykJnn94joXD1oFV8hM1HH6kf1qi+PzLyqa8dN4q3bqy6eAK+AF8Bjbkf5EjhVjyPiC3DStgj/Ax+Fw6gWnEueAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABvUlEQVRIia2VPYvUYBSFnxMGHba0ECuxEH+AWGwpllZiIRb+AkthQcEtFotFZCstROxsFG0ERRHUwkqw0GJBG1GwkNVyURkkj8VOxpDJfM9tcpPcvOeec+77BgD1hPpVfameVAuWGepV/8dv9Z56RF147aIPsL9/BegCF9S3wGV1ZWGAJEW9235+ENhUP6hn1M4iDIokJKEPWM+PAg+Bx+rxWWWrzCxUxnzcAU6rb4At9cBMAFW3VdTBGsAr6iVguyzLi2p3WgZNWSblh5LcBF6rp8b5U3kw9KLF9GZeqKvAs/5YHx4JkGRIlnGLN2r3AefVbXWj1R/1hsuLT+rZsiw7i0o0Kj+mPkhybgDQQnsZQF3Ym++hMa3fz5oDX5JcAR4NANSB0U2wZtRrGvmvJLeSbCXZqeoHDNpo1p+PqgF6wJMka0k+NxsabJA5ZCnVd8A68CrJ3zbGc0kE7ADXktxN8mdc/YDBNBIBu0nuAJtJfo7tpA4waYrUHvACWFffF8X0f9RKonKUROrHJGvA81E6T8WgKVGS78D1JLcn6TwRAOjV5nk3yX1gA/g2yfSpwr0z/Yf6VF1tO5vmjX8IgLipzyzYZwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA1UlEQVRIie2VQQrCMBBF34QspGfwii4Eb9G1J9RDuCj9LjShBJt0arsQ/FD6Q5mZ/N+ZxCRdgDNwAML7SQiSADCzkTrK7wPQm6QbcGwEr8U9AF1apd3WuAeSumzJkuSS8noJB2JMBcwsJ9qS5x9aVK7J9qgJYS7JXPD03eJmRvRK9qLs+0U78/CYpEwGqhnosijJ3tOij9jKoo9tulVySeu7yD1oZfU5fGXRlNcGzcP/FlU5sK9FwPjzFg2R1+2/i0WSHhHogRPQSQqtAy2dkgv4YGbXJ8RpaJ71gP2ZAAAAAElFTkSuQmCC"},function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=(a(19),a(1)),l=a(2),s=a(4),u=a(3),d=a(5),m=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal ".concat(e.className?e.className:""," ").concat(e.open?"open":"")},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"close-btn",onClick:e.toggleModal},"x"),e.children)),r.a.createElement("div",{className:"overlay ".concat(e.open?"open":""),onClick:e.toggleModal}))},A=function(e){return r.a.createElement("div",{className:"row ".concat(e.className?e.className:"")},e.children)},p=function(e){return r.a.createElement("div",{className:"cols-".concat(e.cols?e.cols:12," ").concat(e.className?e.className:"","  ").concat(e.center?"text-center":"")},e.children)},f=r.a.forwardRef(function(e,t){return r.a.createElement("button",Object.assign({ref:t},e.secondary&&{className:"secondary"},e),e.children)}),g=function(e){return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,e.columns.map(function(e){return r.a.createElement("th",{key:e.selector},e.title)}))),r.a.createElement("tbody",null,e.data.map(function(t,a){return r.a.createElement("tr",{key:a},(n=t,e.columns.map(function(e,t){switch(e.selector){case"audio":return r.a.createElement("td",{key:t,className:"text-center"},r.a.createElement(f,{onClick:function(){return e.func(n.audio)}},"Reproducir"));case"edit":return r.a.createElement("td",{key:t,className:"text-center"},r.a.createElement(f,{onClick:function(){return e.func(n)}},"Editar"));case"delete":return r.a.createElement("td",{key:t,className:"text-center"},r.a.createElement(f,{onClick:function(){return e.func(n)}},"Eliminar"));default:return r.a.createElement("td",{key:t},n[e.selector])}})));var n})))},h=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).columns=[{title:"Nombre",selector:"name"},{title:"Reproducir",selector:"audio",func:function(e){return a.props.playRecording(e)}},{title:"Editar",selector:"edit",func:function(e){return a.props.editRecording(e)}},{title:"Eliminar",selector:"delete",func:function(e){return a.props.deleteRecording(e)}},{title:"Fecha de Creaci\xf3n",selector:"created_at"}],a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.readData()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null,r.a.createElement(p,{cols:4},r.a.createElement("h1",null,"Recordings")),r.a.createElement(p,{className:"text-right",cols:8},r.a.createElement(f,{onClick:this.props.newRecording},"Nuevo"))),r.a.createElement(A,null,r.a.createElement(p,null,this.props.data&&r.a.createElement(g,{columns:this.columns,data:this.props.data}))))}}]),t}(r.a.Component),E=a(8),b="https://atexto.zimoo354.mx/api",y=a(6),v=a.n(y),w=a(7),O=a(11),j=a.n(O),k=a(12),R=a.n(k),B=a(13),C=a.n(B),N=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.recordButton=document.querySelector("#record"),this.stopButton=document.querySelector("#stop"),this.playButton=document.querySelector("#play");this.recordButton.addEventListener("click",Object(w.a)(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.recordButton.setAttribute("disabled",!0),e.stopButton.removeAttribute("disabled"),e.playButton.setAttribute("disabled",!0),e.recorder){t.next=7;break}return t.next=6,new Promise(function(){var e=Object(w.a)(v.a.mark(function e(t){var a,n,r,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:a=e.sent,n=new MediaRecorder(a),r=[],n.addEventListener("dataavailable",function(e){r.push(e.data)}),o=function(){return new Promise(function(e){n.addEventListener("stop",function(){var t=new Blob(r),a=URL.createObjectURL(t),n=new Audio(a);e({audioChunks:r,audioBlob:t,audioUrl:a,play:function(){return n.play()}})}),n.stop()})},t({start:function(){r=[],n.start()},stop:o});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 6:e.recorder=t.sent;case 7:e.recorder.start();case 8:case"end":return t.stop()}},t)}))),this.stopButton.addEventListener("click",Object(w.a)(v.a.mark(function t(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.recordButton.removeAttribute("disabled"),e.stopButton.setAttribute("disabled",!0),e.playButton.removeAttribute("disabled"),t.next=5,e.recorder.stop();case 5:e.audio=t.sent,(a=new FileReader).readAsDataURL(e.audio.audioBlob),a.onload=function(){var t=a.result.split(",")[1];e.props.setAudio(t)};case 9:case"end":return t.stop()}},t)}))),this.playButton.addEventListener("click",function(){e.audio.play()})}},{key:"render",value:function(){return r.a.createElement(A,null,r.a.createElement(p,{cols:4,center:!0},r.a.createElement(f,{id:"record"},r.a.createElement("img",{src:j.a,alt:"Record",height:"12"}))),r.a.createElement(p,{cols:4,center:!0},r.a.createElement(f,{id:"stop",disabled:!0},r.a.createElement("img",{src:C.a,alt:"Stop",height:"12"}))),r.a.createElement(p,{cols:4,center:!0},r.a.createElement(f,{id:"play",disabled:!0},r.a.createElement("img",{src:R.a,alt:"Play",height:"12"}))))}}]),t}(r.a.Component);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach(function(t){Object(E.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var J={id:null,name:"",route:"",audio:""},D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state=x({},J),a.handleChange=function(e){a.setState(Object(E.a)({},e.target.id,e.target.value))},a.save=function(){var e={};e=a.state.id?{method:"PUT",body:JSON.stringify(a.state)}:{method:"POST",body:JSON.stringify(a.state)},fetch(b,e).then(function(e){return e.json()}).then(function(){return a.props.readData()}).then(function(){return a.cancel()})},a.cancel=function(){a.props.toggleModal(),a.setState(x({},J,{},a.state.data))},a.setAudio=function(e){return a.setState(x({audio:e},a.state.data))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.data,t=e.id,a=e.name,n=e.audio;this.setState({id:t,name:a,audio:n})}},{key:"render",value:function(){return r.a.createElement(A,null,r.a.createElement(p,null,"Nombre:"),r.a.createElement(p,null,r.a.createElement("input",{type:"text",id:"name",value:this.state.name,onChange:this.handleChange})),r.a.createElement(p,null,"Grabadora:"),r.a.createElement(p,null,r.a.createElement(N,{audio:this.state.id?this.state.audio:null,setAudio:this.setAudio})),r.a.createElement(p,{cols:6,className:"text-right"},r.a.createElement(f,{onClick:this.save},"Guardar")),r.a.createElement(p,{cols:6,className:"text-left"},r.a.createElement(f,{onClick:this.cancel,secondary:!0},"Cancelar")))}}]),t}(r.a.Component),M=(a(21),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isModalOpen:!1,data:[]},a.toggleModal=function(){return a.setState({isModalOpen:!a.state.isModalOpen})},a.playRecording=function(e){new Audio("data:audio/ogg;base64,".concat(e)).play()},a.newRecording=function(){a.toggleModal(),a.setState({id:null,name:"",route:""})},a.editRecording=function(e){a.toggleModal(),a.setState({id:e.id,name:e.name,route:e.route})},a.deleteRecording=function(e){window.confirm("Est\xe1s seguro de que deseas eliminar el registro ".concat(e.name,"?"))&&fetch(b,{method:"DELETE",body:JSON.stringify({id:e.id})}).then(function(e){return e.json()}).then(function(){return a.readData()})},a.readData=function(){fetch(b).then(function(e){return e.json()}).then(function(e){a.setState({data:e.result})})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.data&&r.a.createElement(h,{playRecording:this.playRecording,newRecording:this.newRecording,editRecording:this.editRecording,deleteRecording:this.deleteRecording,readData:this.readData,data:this.state.data}),r.a.createElement(m,{open:this.state.isModalOpen,toggleModal:this.toggleModal},this.state.isModalOpen&&r.a.createElement(D,{data:this.state,readData:this.readData,toggleModal:this.toggleModal})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.d6158516.chunk.js.map